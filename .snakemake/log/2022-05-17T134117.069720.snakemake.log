Building DAG of jobs...
Job stats:
job                  count    min threads    max threads
-----------------  -------  -------------  -------------
align_bt2                4              1              1
all                      1              1              1
call_macs2_broad         8              1              1
call_macs2_narrow        8              1              1
fastqc                   8              1              1
filter_and_dedup         4              1              1
get_open_chrom           4              1              1
make_peak_counts         2              1              1
open_genome              4              1              1
read_trim                4              1              1
samstats                 4              1              1
tn5_shift                4              1              1
tn5_shift_open           4              1              1
total                   59              1              1


[Tue May 17 13:41:17 2022]
rule read_trim:
    input: test/fastq/atac3_R1.fastq.gz, test/fastq/atac3_R2.fastq.gz
    output: test/fastq/atac3_flex_1.fastq.gz, test/fastq/atac3_flex_2.fastq.gz
    jobid: 3
    wildcards: library_id=atac3
    resources: tmpdir=/tmp, mem_mb=5000


        workflow/scripts/read_trim.sh test/fastq/atac3_R1.fastq.gz test/fastq/atac3_R2.fastq.gz test/fastq 4
        

[Tue May 17 13:41:17 2022]
rule read_trim:
    input: test/fastq/atac1_R1.fastq.gz, test/fastq/atac1_R2.fastq.gz
    output: test/fastq/atac1_flex_1.fastq.gz, test/fastq/atac1_flex_2.fastq.gz
    jobid: 1
    wildcards: library_id=atac1
    resources: tmpdir=/tmp, mem_mb=5000


        workflow/scripts/read_trim.sh test/fastq/atac1_R1.fastq.gz test/fastq/atac1_R2.fastq.gz test/fastq 4
        

[Tue May 17 13:41:17 2022]
rule fastqc:
    input: test/fastq/atac2_R2.fastq.gz
    output: test/qc/atac2_R2_fastqc.html
    log: test/logs/fastqc_raw_atac2_R2.log
    jobid: 28
    wildcards: library_id=atac2, read=R2
    resources: tmpdir=/tmp


        fastqc --outdir test/qc         --quiet         --threads 4 test/fastq/atac2_R2.fastq.gz &> test/logs/fastqc_raw_atac2_R2.log
        

[Tue May 17 13:41:17 2022]
rule fastqc:
    input: test/fastq/atac3_R2.fastq.gz
    output: test/qc/atac3_R2_fastqc.html
    log: test/logs/fastqc_raw_atac3_R2.log
    jobid: 30
    wildcards: library_id=atac3, read=R2
    resources: tmpdir=/tmp


        fastqc --outdir test/qc         --quiet         --threads 4 test/fastq/atac3_R2.fastq.gz &> test/logs/fastqc_raw_atac3_R2.log
        

[Tue May 17 13:41:17 2022]
rule fastqc:
    input: test/fastq/atac1_R1.fastq.gz
    output: test/qc/atac1_R1_fastqc.html
    log: test/logs/fastqc_raw_atac1_R1.log
    jobid: 25
    wildcards: library_id=atac1, read=R1
    resources: tmpdir=/tmp


        fastqc --outdir test/qc         --quiet         --threads 4 test/fastq/atac1_R1.fastq.gz &> test/logs/fastqc_raw_atac1_R1.log
        

[Tue May 17 13:41:17 2022]
rule fastqc:
    input: test/fastq/atac4_R2.fastq.gz
    output: test/qc/atac4_R2_fastqc.html
    log: test/logs/fastqc_raw_atac4_R2.log
    jobid: 32
    wildcards: library_id=atac4, read=R2
    resources: tmpdir=/tmp


        fastqc --outdir test/qc         --quiet         --threads 4 test/fastq/atac4_R2.fastq.gz &> test/logs/fastqc_raw_atac4_R2.log
        

[Tue May 17 13:41:17 2022]
rule fastqc:
    input: test/fastq/atac2_R1.fastq.gz
    output: test/qc/atac2_R1_fastqc.html
    log: test/logs/fastqc_raw_atac2_R1.log
    jobid: 27
    wildcards: library_id=atac2, read=R1
    resources: tmpdir=/tmp


        fastqc --outdir test/qc         --quiet         --threads 4 test/fastq/atac2_R1.fastq.gz &> test/logs/fastqc_raw_atac2_R1.log
        

[Tue May 17 13:41:17 2022]
rule read_trim:
    input: test/fastq/atac2_R1.fastq.gz, test/fastq/atac2_R2.fastq.gz
    output: test/fastq/atac2_flex_1.fastq.gz, test/fastq/atac2_flex_2.fastq.gz
    jobid: 2
    wildcards: library_id=atac2
    resources: tmpdir=/tmp, mem_mb=5000


        workflow/scripts/read_trim.sh test/fastq/atac2_R1.fastq.gz test/fastq/atac2_R2.fastq.gz test/fastq 4
        

[Tue May 17 13:41:17 2022]
rule fastqc:
    input: test/fastq/atac3_R1.fastq.gz
    output: test/qc/atac3_R1_fastqc.html
    log: test/logs/fastqc_raw_atac3_R1.log
    jobid: 29
    wildcards: library_id=atac3, read=R1
    resources: tmpdir=/tmp


        fastqc --outdir test/qc         --quiet         --threads 4 test/fastq/atac3_R1.fastq.gz &> test/logs/fastqc_raw_atac3_R1.log
        

[Tue May 17 13:41:17 2022]
rule read_trim:
    input: test/fastq/atac4_R1.fastq.gz, test/fastq/atac4_R2.fastq.gz
    output: test/fastq/atac4_flex_1.fastq.gz, test/fastq/atac4_flex_2.fastq.gz
    jobid: 4
    wildcards: library_id=atac4
    resources: tmpdir=/tmp, mem_mb=5000


        workflow/scripts/read_trim.sh test/fastq/atac4_R1.fastq.gz test/fastq/atac4_R2.fastq.gz test/fastq 4
        

[Tue May 17 13:41:17 2022]
rule fastqc:
    input: test/fastq/atac4_R1.fastq.gz
    output: test/qc/atac4_R1_fastqc.html
    log: test/logs/fastqc_raw_atac4_R1.log
    jobid: 31
    wildcards: library_id=atac4, read=R1
    resources: tmpdir=/tmp


        fastqc --outdir test/qc         --quiet         --threads 4 test/fastq/atac4_R1.fastq.gz &> test/logs/fastqc_raw_atac4_R1.log
        

[Tue May 17 13:41:17 2022]
rule fastqc:
    input: test/fastq/atac1_R2.fastq.gz
    output: test/qc/atac1_R2_fastqc.html
    log: test/logs/fastqc_raw_atac1_R2.log
    jobid: 26
    wildcards: library_id=atac1, read=R2
    resources: tmpdir=/tmp


        fastqc --outdir test/qc         --quiet         --threads 4 test/fastq/atac1_R2.fastq.gz &> test/logs/fastqc_raw_atac1_R2.log
        

[Tue May 17 13:41:17 2022]
rule align_bt2:
    input: test/fastq/atac2_flex_1.fastq.gz, test/fastq/atac2_flex_2.fastq.gz
    output: test/bam/atac2.bam
    jobid: 6
    wildcards: library_id=atac2
    resources: tmpdir=/tmp


        workflow/scripts/align_bt2.sh test/fastq/atac2_flex_1.fastq.gz test/fastq/atac2_flex_2.fastq.gz test/ref/ucsc_mm10_chr9/ucsc_mm10_chr9 4 test/bam/atac2.bam
        

[Tue May 17 13:41:17 2022]
rule align_bt2:
    input: test/fastq/atac1_flex_1.fastq.gz, test/fastq/atac1_flex_2.fastq.gz
    output: test/bam/atac1.bam
    jobid: 5
    wildcards: library_id=atac1
    resources: tmpdir=/tmp


        workflow/scripts/align_bt2.sh test/fastq/atac1_flex_1.fastq.gz test/fastq/atac1_flex_2.fastq.gz test/ref/ucsc_mm10_chr9/ucsc_mm10_chr9 4 test/bam/atac1.bam
        

[Tue May 17 13:41:17 2022]
rule align_bt2:
    input: test/fastq/atac3_flex_1.fastq.gz, test/fastq/atac3_flex_2.fastq.gz
    output: test/bam/atac3.bam
    jobid: 7
    wildcards: library_id=atac3
    resources: tmpdir=/tmp


        workflow/scripts/align_bt2.sh test/fastq/atac3_flex_1.fastq.gz test/fastq/atac3_flex_2.fastq.gz test/ref/ucsc_mm10_chr9/ucsc_mm10_chr9 4 test/bam/atac3.bam
        

[Tue May 17 13:41:17 2022]
rule align_bt2:
    input: test/fastq/atac4_flex_1.fastq.gz, test/fastq/atac4_flex_2.fastq.gz
    output: test/bam/atac4.bam
    jobid: 8
    wildcards: library_id=atac4
    resources: tmpdir=/tmp


        workflow/scripts/align_bt2.sh test/fastq/atac4_flex_1.fastq.gz test/fastq/atac4_flex_2.fastq.gz test/ref/ucsc_mm10_chr9/ucsc_mm10_chr9 4 test/bam/atac4.bam
        

[Tue May 17 13:41:17 2022]
rule samstats:
    input: test/bam/atac2.bam
    output: test/qc/atac2_stat.txt, test/qc/atac2_flagstat.txt
    log: test/logs/atac2_samstats.log
    jobid: 34
    wildcards: library_id=atac2
    resources: tmpdir=/tmp


        workflow/scripts/samstats.sh 4 test/bam/atac2.bam test/qc/atac2_stat.txt test/qc/atac2_flagstat.txt 2>&1 >> test/logs/atac2_samstats.log
        

[Tue May 17 13:41:17 2022]
rule filter_and_dedup:
    input: test/bam/atac3.bam
    output: test/bam/atac3_dedup.bam, test/bam/atac3_qfilt.bam, test/bam/atac3_regfilt.bam, test/bam/atac3_regfilt.bam.bai
    jobid: 11
    wildcards: library_id=atac3
    resources: tmpdir=/tmp, mem_mb=5000


        workflow/scripts/filter_and_dedup.sh test/bam/atac3.bam 	                                     resources/keep.bed 	                                     4 	                                     test/bam/atac3_dedup.bam 	                                     test/bam/atac3_qfilt.bam 	                                     test/bam/atac3_regfilt.bam 
        

[Tue May 17 13:41:17 2022]
rule filter_and_dedup:
    input: test/bam/atac1.bam
    output: test/bam/atac1_dedup.bam, test/bam/atac1_qfilt.bam, test/bam/atac1_regfilt.bam, test/bam/atac1_regfilt.bam.bai
    jobid: 9
    wildcards: library_id=atac1
    resources: tmpdir=/tmp, mem_mb=5000


        workflow/scripts/filter_and_dedup.sh test/bam/atac1.bam 	                                     resources/keep.bed 	                                     4 	                                     test/bam/atac1_dedup.bam 	                                     test/bam/atac1_qfilt.bam 	                                     test/bam/atac1_regfilt.bam 
        

[Tue May 17 13:41:17 2022]
rule samstats:
    input: test/bam/atac4.bam
    output: test/qc/atac4_stat.txt, test/qc/atac4_flagstat.txt
    log: test/logs/atac4_samstats.log
    jobid: 36
    wildcards: library_id=atac4
    resources: tmpdir=/tmp


        workflow/scripts/samstats.sh 4 test/bam/atac4.bam test/qc/atac4_stat.txt test/qc/atac4_flagstat.txt 2>&1 >> test/logs/atac4_samstats.log
        

[Tue May 17 13:41:17 2022]
rule filter_and_dedup:
    input: test/bam/atac2.bam
    output: test/bam/atac2_dedup.bam, test/bam/atac2_qfilt.bam, test/bam/atac2_regfilt.bam, test/bam/atac2_regfilt.bam.bai
    jobid: 10
    wildcards: library_id=atac2
    resources: tmpdir=/tmp, mem_mb=5000


        workflow/scripts/filter_and_dedup.sh test/bam/atac2.bam 	                                     resources/keep.bed 	                                     4 	                                     test/bam/atac2_dedup.bam 	                                     test/bam/atac2_qfilt.bam 	                                     test/bam/atac2_regfilt.bam 
        

[Tue May 17 13:41:17 2022]
rule samstats:
    input: test/bam/atac1.bam
    output: test/qc/atac1_stat.txt, test/qc/atac1_flagstat.txt
    log: test/logs/atac1_samstats.log
    jobid: 33
    wildcards: library_id=atac1
    resources: tmpdir=/tmp


        workflow/scripts/samstats.sh 4 test/bam/atac1.bam test/qc/atac1_stat.txt test/qc/atac1_flagstat.txt 2>&1 >> test/logs/atac1_samstats.log
        

[Tue May 17 13:41:17 2022]
rule samstats:
    input: test/bam/atac3.bam
    output: test/qc/atac3_stat.txt, test/qc/atac3_flagstat.txt
    log: test/logs/atac3_samstats.log
    jobid: 35
    wildcards: library_id=atac3
    resources: tmpdir=/tmp


        workflow/scripts/samstats.sh 4 test/bam/atac3.bam test/qc/atac3_stat.txt test/qc/atac3_flagstat.txt 2>&1 >> test/logs/atac3_samstats.log
        

[Tue May 17 13:41:17 2022]
rule filter_and_dedup:
    input: test/bam/atac4.bam
    output: test/bam/atac4_dedup.bam, test/bam/atac4_qfilt.bam, test/bam/atac4_regfilt.bam, test/bam/atac4_regfilt.bam.bai
    jobid: 12
    wildcards: library_id=atac4
    resources: tmpdir=/tmp, mem_mb=5000


        workflow/scripts/filter_and_dedup.sh test/bam/atac4.bam 	                                     resources/keep.bed 	                                     4 	                                     test/bam/atac4_dedup.bam 	                                     test/bam/atac4_qfilt.bam 	                                     test/bam/atac4_regfilt.bam 
        

[Tue May 17 13:41:17 2022]
rule tn5_shift:
    input: test/bam/atac3_regfilt.bam
    output: test/bam/atac3_regfilt_tmp.bam, test/bam/atac3_regfilt_tn5.bam
    log: test/logs/tn5_shift_and_open_atac3_regfilt.log
    jobid: 19
    wildcards: library_id=atac3
    resources: tmpdir=/tmp


        workflow/scripts/tn5_shift.sh test/bam/atac3_regfilt.bam 	                              4 	                              test/bam/atac3_regfilt_tmp.bam                                       test/bam/atac3_regfilt_tn5.bam > test/logs/tn5_shift_and_open_atac3_regfilt.log 2>&1
        

[Tue May 17 13:41:17 2022]
rule get_open_chrom:
    input: test/bam/atac2_regfilt.bam
    output: test/bam/atac2_unsort_open.bam, test/bam/atac2_open.bam
    jobid: 14
    wildcards: library_id=atac2
    resources: tmpdir=/tmp


        workflow/scripts/get_open_chrom.sh test/bam/atac2_regfilt.bam                                            4                                            test/bam/atac2_unsort_open.bam                                            test/bam/atac2_open.bam
        

[Tue May 17 13:41:17 2022]
rule tn5_shift:
    input: test/bam/atac1_regfilt.bam
    output: test/bam/atac1_regfilt_tmp.bam, test/bam/atac1_regfilt_tn5.bam
    log: test/logs/tn5_shift_and_open_atac1_regfilt.log
    jobid: 17
    wildcards: library_id=atac1
    resources: tmpdir=/tmp


        workflow/scripts/tn5_shift.sh test/bam/atac1_regfilt.bam 	                              4 	                              test/bam/atac1_regfilt_tmp.bam                                       test/bam/atac1_regfilt_tn5.bam > test/logs/tn5_shift_and_open_atac1_regfilt.log 2>&1
        

[Tue May 17 13:41:17 2022]
rule get_open_chrom:
    input: test/bam/atac1_regfilt.bam
    output: test/bam/atac1_unsort_open.bam, test/bam/atac1_open.bam
    jobid: 13
    wildcards: library_id=atac1
    resources: tmpdir=/tmp


        workflow/scripts/get_open_chrom.sh test/bam/atac1_regfilt.bam                                            4                                            test/bam/atac1_unsort_open.bam                                            test/bam/atac1_open.bam
        

[Tue May 17 13:41:17 2022]
rule get_open_chrom:
    input: test/bam/atac3_regfilt.bam
    output: test/bam/atac3_unsort_open.bam, test/bam/atac3_open.bam
    jobid: 15
    wildcards: library_id=atac3
    resources: tmpdir=/tmp


        workflow/scripts/get_open_chrom.sh test/bam/atac3_regfilt.bam                                            4                                            test/bam/atac3_unsort_open.bam                                            test/bam/atac3_open.bam
        

[Tue May 17 13:41:17 2022]
rule tn5_shift:
    input: test/bam/atac2_regfilt.bam
    output: test/bam/atac2_regfilt_tmp.bam, test/bam/atac2_regfilt_tn5.bam
    log: test/logs/tn5_shift_and_open_atac2_regfilt.log
    jobid: 18
    wildcards: library_id=atac2
    resources: tmpdir=/tmp


        workflow/scripts/tn5_shift.sh test/bam/atac2_regfilt.bam 	                              4 	                              test/bam/atac2_regfilt_tmp.bam                                       test/bam/atac2_regfilt_tn5.bam > test/logs/tn5_shift_and_open_atac2_regfilt.log 2>&1
        

[Tue May 17 13:41:17 2022]
rule get_open_chrom:
    input: test/bam/atac4_regfilt.bam
    output: test/bam/atac4_unsort_open.bam, test/bam/atac4_open.bam
    jobid: 16
    wildcards: library_id=atac4
    resources: tmpdir=/tmp


        workflow/scripts/get_open_chrom.sh test/bam/atac4_regfilt.bam                                            4                                            test/bam/atac4_unsort_open.bam                                            test/bam/atac4_open.bam
        

[Tue May 17 13:41:17 2022]
rule tn5_shift:
    input: test/bam/atac4_regfilt.bam
    output: test/bam/atac4_regfilt_tmp.bam, test/bam/atac4_regfilt_tn5.bam
    log: test/logs/tn5_shift_and_open_atac4_regfilt.log
    jobid: 20
    wildcards: library_id=atac4
    resources: tmpdir=/tmp


        workflow/scripts/tn5_shift.sh test/bam/atac4_regfilt.bam 	                              4 	                              test/bam/atac4_regfilt_tmp.bam                                       test/bam/atac4_regfilt_tn5.bam > test/logs/tn5_shift_and_open_atac4_regfilt.log 2>&1
        

[Tue May 17 13:41:17 2022]
rule call_macs2_broad:
    input: test/bam/atac1_regfilt_tn5.bam
    output: test/macs2/atac1_regfilt_peaks.broadPeak, test/macs2/atac1_regfilt_peaks.gappedPeak, test/macs2/atac1_regfilt_peaks.xls
    jobid: 38
    wildcards: library_id=atac1, bam_process=regfilt
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac1_regfilt_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_broad.sh test/bam/atac1_regfilt_tn5.bam ${base} "test/macs2"
        

[Tue May 17 13:41:17 2022]
rule call_macs2_broad:
    input: test/bam/atac3_regfilt_tn5.bam
    output: test/macs2/atac3_regfilt_peaks.broadPeak, test/macs2/atac3_regfilt_peaks.gappedPeak, test/macs2/atac3_regfilt_peaks.xls
    jobid: 42
    wildcards: library_id=atac3, bam_process=regfilt
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac3_regfilt_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_broad.sh test/bam/atac3_regfilt_tn5.bam ${base} "test/macs2"
        

[Tue May 17 13:41:17 2022]
rule tn5_shift_open:
    input: test/bam/atac2_open.bam
    output: test/bam/atac2_open_tmp.bam, test/bam/atac2_open_tn5.bam
    log: test/logs/tn5_shift_and_open_atac2_open.log
    jobid: 22
    wildcards: library_id=atac2
    resources: tmpdir=/tmp


        workflow/scripts/tn5_shift.sh test/bam/atac2_open.bam 	                              4 	                              test/bam/atac2_open_tmp.bam                                       test/bam/atac2_open_tn5.bam > test/logs/tn5_shift_and_open_atac2_open.log 2>&1
        

[Tue May 17 13:41:17 2022]
rule call_macs2_broad:
    input: test/bam/atac2_regfilt_tn5.bam
    output: test/macs2/atac2_regfilt_peaks.broadPeak, test/macs2/atac2_regfilt_peaks.gappedPeak, test/macs2/atac2_regfilt_peaks.xls
    jobid: 40
    wildcards: library_id=atac2, bam_process=regfilt
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac2_regfilt_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_broad.sh test/bam/atac2_regfilt_tn5.bam ${base} "test/macs2"
        

[Tue May 17 13:41:17 2022]
rule tn5_shift_open:
    input: test/bam/atac4_open.bam
    output: test/bam/atac4_open_tmp.bam, test/bam/atac4_open_tn5.bam
    log: test/logs/tn5_shift_and_open_atac4_open.log
    jobid: 24
    wildcards: library_id=atac4
    resources: tmpdir=/tmp


        workflow/scripts/tn5_shift.sh test/bam/atac4_open.bam 	                              4 	                              test/bam/atac4_open_tmp.bam                                       test/bam/atac4_open_tn5.bam > test/logs/tn5_shift_and_open_atac4_open.log 2>&1
        

[Tue May 17 13:41:17 2022]
rule make_peak_counts:
    input: test/bam/atac1_regfilt_tn5.bam, test/bam/atac2_regfilt_tn5.bam, test/bam/atac3_regfilt_tn5.bam, test/bam/atac4_regfilt_tn5.bam
    output: test/csaw/background_counts_all_regfilt_rse.rds, test/csaw/counts_all_regfilt_rse.rds
    log: test/logs/make_peak_counts_regfilt.log
    jobid: 53
    wildcards: bam_process=regfilt
    resources: tmpdir=/tmp


        Rscript workflow/scripts/select_window_size.R         "test/bam/atac1_regfilt_tn5.bam test/bam/atac2_regfilt_tn5.bam test/bam/atac3_regfilt_tn5.bam test/bam/atac4_regfilt_tn5.bam"         4         test/csaw/background_counts_all_regfilt_rse.rds         test/csaw/counts_all_regfilt_rse.rds         >& test/logs/make_peak_counts_regfilt.log
        

[Tue May 17 13:41:17 2022]
rule call_macs2_narrow:
    input: test/bam/atac3_regfilt_tn5.bam
    output: test/macs2/atac3_regfilt_peaks.narrowPeak, test/macs2/atac3_regfilt_summits.bed
    jobid: 50
    wildcards: library_id=atac3, bam_process=regfilt
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac3_regfilt_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac3_regfilt_tn5.bam ${base} "test/macs2"
        

[Tue May 17 13:41:17 2022]
rule call_macs2_narrow:
    input: test/bam/atac1_regfilt_tn5.bam
    output: test/macs2/atac1_regfilt_peaks.narrowPeak, test/macs2/atac1_regfilt_summits.bed
    jobid: 46
    wildcards: library_id=atac1, bam_process=regfilt
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac1_regfilt_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac1_regfilt_tn5.bam ${base} "test/macs2"
        

[Tue May 17 13:41:17 2022]
rule tn5_shift_open:
    input: test/bam/atac1_open.bam
    output: test/bam/atac1_open_tmp.bam, test/bam/atac1_open_tn5.bam
    log: test/logs/tn5_shift_and_open_atac1_open.log
    jobid: 21
    wildcards: library_id=atac1
    resources: tmpdir=/tmp


        workflow/scripts/tn5_shift.sh test/bam/atac1_open.bam 	                              4 	                              test/bam/atac1_open_tmp.bam                                       test/bam/atac1_open_tn5.bam > test/logs/tn5_shift_and_open_atac1_open.log 2>&1
        

[Tue May 17 13:41:17 2022]
rule tn5_shift_open:
    input: test/bam/atac3_open.bam
    output: test/bam/atac3_open_tmp.bam, test/bam/atac3_open_tn5.bam
    log: test/logs/tn5_shift_and_open_atac3_open.log
    jobid: 23
    wildcards: library_id=atac3
    resources: tmpdir=/tmp


        workflow/scripts/tn5_shift.sh test/bam/atac3_open.bam 	                              4 	                              test/bam/atac3_open_tmp.bam                                       test/bam/atac3_open_tn5.bam > test/logs/tn5_shift_and_open_atac3_open.log 2>&1
        

[Tue May 17 13:41:17 2022]
rule call_macs2_narrow:
    input: test/bam/atac2_regfilt_tn5.bam
    output: test/macs2/atac2_regfilt_peaks.narrowPeak, test/macs2/atac2_regfilt_summits.bed
    jobid: 48
    wildcards: library_id=atac2, bam_process=regfilt
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac2_regfilt_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac2_regfilt_tn5.bam ${base} "test/macs2"
        

[Tue May 17 13:41:17 2022]
rule call_macs2_broad:
    input: test/bam/atac4_regfilt_tn5.bam
    output: test/macs2/atac4_regfilt_peaks.broadPeak, test/macs2/atac4_regfilt_peaks.gappedPeak, test/macs2/atac4_regfilt_peaks.xls
    jobid: 44
    wildcards: library_id=atac4, bam_process=regfilt
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac4_regfilt_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_broad.sh test/bam/atac4_regfilt_tn5.bam ${base} "test/macs2"
        

[Tue May 17 13:41:17 2022]
rule call_macs2_narrow:
    input: test/bam/atac4_regfilt_tn5.bam
    output: test/macs2/atac4_regfilt_peaks.narrowPeak, test/macs2/atac4_regfilt_summits.bed
    jobid: 52
    wildcards: library_id=atac4, bam_process=regfilt
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac4_regfilt_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac4_regfilt_tn5.bam ${base} "test/macs2"
        

[Tue May 17 13:41:17 2022]
rule call_macs2_narrow:
    input: test/bam/atac4_open_tn5.bam
    output: test/macs2/atac4_open_peaks.narrowPeak, test/macs2/atac4_open_summits.bed
    jobid: 51
    wildcards: library_id=atac4, bam_process=open
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac4_open_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac4_open_tn5.bam ${base} "test/macs2"
        

[Tue May 17 13:41:17 2022]
rule call_macs2_broad:
    input: test/bam/atac4_open_tn5.bam
    output: test/macs2/atac4_open_peaks.broadPeak, test/macs2/atac4_open_peaks.gappedPeak, test/macs2/atac4_open_peaks.xls
    jobid: 43
    wildcards: library_id=atac4, bam_process=open
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac4_open_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_broad.sh test/bam/atac4_open_tn5.bam ${base} "test/macs2"
        

[Tue May 17 13:41:17 2022]
rule call_macs2_narrow:
    input: test/bam/atac2_open_tn5.bam
    output: test/macs2/atac2_open_peaks.narrowPeak, test/macs2/atac2_open_summits.bed
    jobid: 47
    wildcards: library_id=atac2, bam_process=open
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac2_open_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac2_open_tn5.bam ${base} "test/macs2"
        

[Tue May 17 13:41:17 2022]
rule open_genome:
    input: test/bam/atac4_open_tn5.bam
    output: test/open_chrom/atac4_open_chrom.txt
    jobid: 58
    wildcards: library_id=atac4
    resources: tmpdir=/tmp

RuleException in line 43 of /home/jeszyman/repos/atac-seq/workflow/peak_call_and_dif.smk:
NameError: The name ' genome_length = 0; masked_length = 0; ' is unknown in this context. Please make sure that you defined that variable. Also note that braces not used for variable access have to be escaped by repeating them, i.e. {{print $1}}
