Building DAG of jobs...
Full Traceback (most recent call last):
  File "/opt/miniconda3/envs/snakemake/lib/python3.9/site-packages/snakemake/__init__.py", line 699, in snakemake
    success = workflow.execute(
  File "/opt/miniconda3/envs/snakemake/lib/python3.9/site-packages/snakemake/workflow.py", line 763, in execute
    dag.init()
  File "/opt/miniconda3/envs/snakemake/lib/python3.9/site-packages/snakemake/dag.py", line 179, in init
    job = self.update([job], progress=progress, create_inventory=True)
  File "/opt/miniconda3/envs/snakemake/lib/python3.9/site-packages/snakemake/dag.py", line 759, in update
    self.update_(
  File "/opt/miniconda3/envs/snakemake/lib/python3.9/site-packages/snakemake/dag.py", line 874, in update_
    selected_job = self.update(
  File "/opt/miniconda3/envs/snakemake/lib/python3.9/site-packages/snakemake/dag.py", line 814, in update
    raise AmbiguousRuleException(file, producer, ambiguities[0])
snakemake.exceptions.AmbiguousRuleException: Rules filter_and_dedup and align_bt2 are ambiguous for the file test/bam/lib001_dedup.bam.
Consider starting rule output with a unique prefix, constrain your wildcards, or use the ruleorder directive.
Wildcards:
	filter_and_dedup: library_id=lib001
	align_bt2: library_id=lib001_dedup
Expected input files:
	filter_and_dedup: test/bam/lib001.bam
	align_bt2: test/fastq/lib001_dedup_flex_1.fastq.gz test/fastq/lib001_dedup_flex_2.fastq.gzExpected output files:
	filter_and_dedup: test/bam/lib001_dedup.bam test/bam/lib001_qfilt.bam test/bam/lib001_regfilt.bam test/bam/lib001_regfilt.bam.bai
	align_bt2: test/bam/lib001_dedup.bam

AmbiguousRuleException:
Rules filter_and_dedup and align_bt2 are ambiguous for the file test/bam/lib001_dedup.bam.
Consider starting rule output with a unique prefix, constrain your wildcards, or use the ruleorder directive.
Wildcards:
	filter_and_dedup: library_id=lib001
	align_bt2: library_id=lib001_dedup
Expected input files:
	filter_and_dedup: test/bam/lib001.bam
	align_bt2: test/fastq/lib001_dedup_flex_1.fastq.gz test/fastq/lib001_dedup_flex_2.fastq.gzExpected output files:
	filter_and_dedup: test/bam/lib001_dedup.bam test/bam/lib001_qfilt.bam test/bam/lib001_regfilt.bam test/bam/lib001_regfilt.bam.bai
	align_bt2: test/bam/lib001_dedup.bam
unlocking
removed all locks
