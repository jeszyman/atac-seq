Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 4
Rules claiming more threads will be scaled down.
Job stats:
job                  count    min threads    max threads
-----------------  -------  -------------  -------------
all                      1              1              1
call_macs2_broad         8              1              1
call_macs2_narrow        8              1              1
make_peak_counts         2              1              1
total                   19              1              1

Resources before job selection: {'_cores': 4, '_nodes': 9223372036854775807}
Ready jobs (18):
	make_peak_counts
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_broad
	call_macs2_narrow
	make_peak_counts
	call_macs2_broad
	call_macs2_narrow
	call_macs2_narrow
Select jobs to execute...
Selected jobs (4):
	call_macs2_narrow
	call_macs2_narrow
	call_macs2_broad
	call_macs2_broad
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775803}

[Tue May 17 13:33:23 2022]
rule call_macs2_narrow:
    input: test/bam/atac3_open_tn5.bam
    output: test/macs2/atac3_open_peaks.narrowPeak, test/macs2/atac3_open_summits.bed
    jobid: 49
    wildcards: library_id=atac3, bam_process=open
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac3_open_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac3_open_tn5.bam ${base} "test/macs2"
        
 singularity  exec --home /home/jeszyman/repos/atac-seq --bind /home/jeszyman:/home/jeszyman --bind /mnt:/mnt --bind /opt/miniconda3/envs/snakemake/lib/python3.9/site-packages:/mnt/snakemake /home/jeszyman/sing_containers/atac.sif bash -c 'base=$(echo $(basename test/bam/atac3_open_tn5.bam) | sed '\''s/_tn5.*$//g'\'')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac3_open_tn5.bam ${base} "test/macs2"'

Activating singularity image /home/jeszyman/sing_containers/atac.sif
[Tue May 17 13:33:23 2022]
rule call_macs2_narrow:
    input: test/bam/atac3_regfilt_tn5.bam
    output: test/macs2/atac3_regfilt_peaks.narrowPeak, test/macs2/atac3_regfilt_summits.bed
    jobid: 50
    wildcards: library_id=atac3, bam_process=regfilt
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac3_regfilt_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac3_regfilt_tn5.bam ${base} "test/macs2"
        

[Tue May 17 13:33:23 2022]
rule call_macs2_broad:
    input: test/bam/atac3_regfilt_tn5.bam
    output: test/macs2/atac3_regfilt_peaks.broadPeak, test/macs2/atac3_regfilt_peaks.gappedPeak, test/macs2/atac3_regfilt_peaks.xls
    jobid: 42
    wildcards: library_id=atac3, bam_process=regfilt
    resources: tmpdir=/tmp
 singularity  exec --home /home/jeszyman/repos/atac-seq --bind /home/jeszyman:/home/jeszyman --bind /mnt:/mnt --bind /opt/miniconda3/envs/snakemake/lib/python3.9/site-packages:/mnt/snakemake /home/jeszyman/sing_containers/atac.sif bash -c 'base=$(echo $(basename test/bam/atac3_regfilt_tn5.bam) | sed '\''s/_tn5.*$//g'\'')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac3_regfilt_tn5.bam ${base} "test/macs2"'

Activating singularity image /home/jeszyman/sing_containers/atac.sif

        base=$(echo $(basename test/bam/atac3_regfilt_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_broad.sh test/bam/atac3_regfilt_tn5.bam ${base} "test/macs2"
        
 singularity  exec --home /home/jeszyman/repos/atac-seq --bind /home/jeszyman:/home/jeszyman --bind /mnt:/mnt --bind /opt/miniconda3/envs/snakemake/lib/python3.9/site-packages:/mnt/snakemake /home/jeszyman/sing_containers/atac.sif bash -c 'base=$(echo $(basename test/bam/atac3_regfilt_tn5.bam) | sed '\''s/_tn5.*$//g'\'')
        workflow/scripts/call_macs2_broad.sh test/bam/atac3_regfilt_tn5.bam ${base} "test/macs2"'

Activating singularity image /home/jeszyman/sing_containers/atac.sif
[Tue May 17 13:33:23 2022]
rule call_macs2_broad:
    input: test/bam/atac4_regfilt_tn5.bam
    output: test/macs2/atac4_regfilt_peaks.broadPeak, test/macs2/atac4_regfilt_peaks.gappedPeak, test/macs2/atac4_regfilt_peaks.xls
    jobid: 44
    wildcards: library_id=atac4, bam_process=regfilt
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac4_regfilt_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_broad.sh test/bam/atac4_regfilt_tn5.bam ${base} "test/macs2"
        
 singularity  exec --home /home/jeszyman/repos/atac-seq --bind /home/jeszyman:/home/jeszyman --bind /mnt:/mnt --bind /opt/miniconda3/envs/snakemake/lib/python3.9/site-packages:/mnt/snakemake /home/jeszyman/sing_containers/atac.sif bash -c 'base=$(echo $(basename test/bam/atac4_regfilt_tn5.bam) | sed '\''s/_tn5.*$//g'\'')
        workflow/scripts/call_macs2_broad.sh test/bam/atac4_regfilt_tn5.bam ${base} "test/macs2"'
Activating singularity image /home/jeszyman/sing_containers/atac.sif
[Tue May 17 13:33:24 2022]
Finished job 42.
1 of 19 steps (5%) done
Resources before job selection: {'_cores': 1, '_nodes': 9223372036854775804}
Ready jobs (14):
	make_peak_counts
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
	call_macs2_narrow
	call_macs2_broad
	call_macs2_broad
	call_macs2_narrow
	make_peak_counts
	call_macs2_broad
	call_macs2_narrow
Select jobs to execute...
Selected jobs (1):
	call_macs2_broad
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775803}

[Tue May 17 13:33:24 2022]
rule call_macs2_broad:
    input: test/bam/atac2_open_tn5.bam
    output: test/macs2/atac2_open_peaks.broadPeak, test/macs2/atac2_open_peaks.gappedPeak, test/macs2/atac2_open_peaks.xls
    jobid: 39
    wildcards: library_id=atac2, bam_process=open
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac2_open_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_broad.sh test/bam/atac2_open_tn5.bam ${base} "test/macs2"
        
 singularity  exec --home /home/jeszyman/repos/atac-seq --bind /home/jeszyman:/home/jeszyman --bind /mnt:/mnt --bind /opt/miniconda3/envs/snakemake/lib/python3.9/site-packages:/mnt/snakemake /home/jeszyman/sing_containers/atac.sif bash -c 'base=$(echo $(basename test/bam/atac2_open_tn5.bam) | sed '\''s/_tn5.*$//g'\'')
        workflow/scripts/call_macs2_broad.sh test/bam/atac2_open_tn5.bam ${base} "test/macs2"'
Activating singularity image /home/jeszyman/sing_containers/atac.sif
[Tue May 17 13:33:24 2022]
Finished job 44.
2 of 19 steps (11%) done
Resources before job selection: {'_cores': 1, '_nodes': 9223372036854775804}
Ready jobs (13):
	make_peak_counts
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
	make_peak_counts
	call_macs2_broad
	call_macs2_narrow
Select jobs to execute...
Selected jobs (1):
	call_macs2_narrow
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775803}

[Tue May 17 13:33:24 2022]
rule call_macs2_narrow:
    input: test/bam/atac1_regfilt_tn5.bam
    output: test/macs2/atac1_regfilt_peaks.narrowPeak, test/macs2/atac1_regfilt_summits.bed
    jobid: 46
    wildcards: library_id=atac1, bam_process=regfilt
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac1_regfilt_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac1_regfilt_tn5.bam ${base} "test/macs2"
        
 singularity  exec --home /home/jeszyman/repos/atac-seq --bind /home/jeszyman:/home/jeszyman --bind /mnt:/mnt --bind /opt/miniconda3/envs/snakemake/lib/python3.9/site-packages:/mnt/snakemake /home/jeszyman/sing_containers/atac.sif bash -c 'base=$(echo $(basename test/bam/atac1_regfilt_tn5.bam) | sed '\''s/_tn5.*$//g'\'')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac1_regfilt_tn5.bam ${base} "test/macs2"'
Activating singularity image /home/jeszyman/sing_containers/atac.sif
[Tue May 17 13:33:25 2022]
Finished job 49.
3 of 19 steps (16%) done
Resources before job selection: {'_cores': 1, '_nodes': 9223372036854775804}
Ready jobs (12):
	make_peak_counts
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
	call_macs2_narrow
	call_macs2_broad
	make_peak_counts
	call_macs2_broad
	call_macs2_narrow
Select jobs to execute...
Selected jobs (1):
	make_peak_counts
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775803}

[Tue May 17 13:33:25 2022]
rule make_peak_counts:
    input: test/bam/atac1_open_tn5.bam, test/bam/atac2_open_tn5.bam, test/bam/atac3_open_tn5.bam, test/bam/atac4_open_tn5.bam
    output: test/csaw/background_counts_all_open_rse.rds, test/csaw/counts_all_open_rse.rds
    log: test/logs/make_peak_counts_open.log
    jobid: 54
    wildcards: bam_process=open
    resources: tmpdir=/tmp


        Rscript workflow/scripts/select_window_size.R         "test/bam/atac1_open_tn5.bam test/bam/atac2_open_tn5.bam test/bam/atac3_open_tn5.bam test/bam/atac4_open_tn5.bam"         4         test/csaw/background_counts_all_open_rse.rds         test/csaw/counts_all_open_rse.rds         >& test/logs/make_peak_counts_open.log
        
 singularity  exec --home /home/jeszyman/repos/atac-seq --bind /home/jeszyman:/home/jeszyman --bind /mnt:/mnt --bind /opt/miniconda3/envs/snakemake/lib/python3.9/site-packages:/mnt/snakemake /home/jeszyman/sing_containers/atac.sif bash -c 'Rscript workflow/scripts/select_window_size.R         "test/bam/atac1_open_tn5.bam test/bam/atac2_open_tn5.bam test/bam/atac3_open_tn5.bam test/bam/atac4_open_tn5.bam"         4         test/csaw/background_counts_all_open_rse.rds         test/csaw/counts_all_open_rse.rds         >& test/logs/make_peak_counts_open.log'
Activating singularity image /home/jeszyman/sing_containers/atac.sif
[Tue May 17 13:33:25 2022]
Finished job 50.
4 of 19 steps (21%) done
Resources before job selection: {'_cores': 1, '_nodes': 9223372036854775804}
Ready jobs (11):
	make_peak_counts
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
	call_macs2_narrow
	call_macs2_broad
	call_macs2_broad
	call_macs2_narrow
Select jobs to execute...
Selected jobs (1):
	call_macs2_broad
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775803}

[Tue May 17 13:33:25 2022]
rule call_macs2_broad:
    input: test/bam/atac3_open_tn5.bam
    output: test/macs2/atac3_open_peaks.broadPeak, test/macs2/atac3_open_peaks.gappedPeak, test/macs2/atac3_open_peaks.xls
    jobid: 41
    wildcards: library_id=atac3, bam_process=open
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac3_open_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_broad.sh test/bam/atac3_open_tn5.bam ${base} "test/macs2"
        
 singularity  exec --home /home/jeszyman/repos/atac-seq --bind /home/jeszyman:/home/jeszyman --bind /mnt:/mnt --bind /opt/miniconda3/envs/snakemake/lib/python3.9/site-packages:/mnt/snakemake /home/jeszyman/sing_containers/atac.sif bash -c 'base=$(echo $(basename test/bam/atac3_open_tn5.bam) | sed '\''s/_tn5.*$//g'\'')
        workflow/scripts/call_macs2_broad.sh test/bam/atac3_open_tn5.bam ${base} "test/macs2"'
Activating singularity image /home/jeszyman/sing_containers/atac.sif
[Tue May 17 13:33:25 2022]
Finished job 39.
5 of 19 steps (26%) done
Resources before job selection: {'_cores': 1, '_nodes': 9223372036854775804}
Ready jobs (10):
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
	make_peak_counts
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
Select jobs to execute...
Selected jobs (1):
	call_macs2_narrow
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775803}

[Tue May 17 13:33:25 2022]
rule call_macs2_narrow:
    input: test/bam/atac2_regfilt_tn5.bam
    output: test/macs2/atac2_regfilt_peaks.narrowPeak, test/macs2/atac2_regfilt_summits.bed
    jobid: 48
    wildcards: library_id=atac2, bam_process=regfilt
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac2_regfilt_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac2_regfilt_tn5.bam ${base} "test/macs2"
        
 singularity  exec --home /home/jeszyman/repos/atac-seq --bind /home/jeszyman:/home/jeszyman --bind /mnt:/mnt --bind /opt/miniconda3/envs/snakemake/lib/python3.9/site-packages:/mnt/snakemake /home/jeszyman/sing_containers/atac.sif bash -c 'base=$(echo $(basename test/bam/atac2_regfilt_tn5.bam) | sed '\''s/_tn5.*$//g'\'')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac2_regfilt_tn5.bam ${base} "test/macs2"'
Activating singularity image /home/jeszyman/sing_containers/atac.sif
[Tue May 17 13:33:26 2022]
Finished job 46.
6 of 19 steps (32%) done
Resources before job selection: {'_cores': 1, '_nodes': 9223372036854775804}
Ready jobs (9):
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
	make_peak_counts
	call_macs2_narrow
	call_macs2_broad
Select jobs to execute...
Selected jobs (1):
	call_macs2_broad
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775803}

[Tue May 17 13:33:26 2022]
rule call_macs2_broad:
    input: test/bam/atac1_open_tn5.bam
    output: test/macs2/atac1_open_peaks.broadPeak, test/macs2/atac1_open_peaks.gappedPeak, test/macs2/atac1_open_peaks.xls
    jobid: 37
    wildcards: library_id=atac1, bam_process=open
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac1_open_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_broad.sh test/bam/atac1_open_tn5.bam ${base} "test/macs2"
        
 singularity  exec --home /home/jeszyman/repos/atac-seq --bind /home/jeszyman:/home/jeszyman --bind /mnt:/mnt --bind /opt/miniconda3/envs/snakemake/lib/python3.9/site-packages:/mnt/snakemake /home/jeszyman/sing_containers/atac.sif bash -c 'base=$(echo $(basename test/bam/atac1_open_tn5.bam) | sed '\''s/_tn5.*$//g'\'')
        workflow/scripts/call_macs2_broad.sh test/bam/atac1_open_tn5.bam ${base} "test/macs2"'
Activating singularity image /home/jeszyman/sing_containers/atac.sif
[Tue May 17 13:33:27 2022]
Finished job 41.
7 of 19 steps (37%) done
Resources before job selection: {'_cores': 1, '_nodes': 9223372036854775804}
Ready jobs (8):
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
	make_peak_counts
	call_macs2_narrow
Select jobs to execute...
Selected jobs (1):
	call_macs2_narrow
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775803}

[Tue May 17 13:33:27 2022]
rule call_macs2_narrow:
    input: test/bam/atac4_regfilt_tn5.bam
    output: test/macs2/atac4_regfilt_peaks.narrowPeak, test/macs2/atac4_regfilt_summits.bed
    jobid: 52
    wildcards: library_id=atac4, bam_process=regfilt
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac4_regfilt_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac4_regfilt_tn5.bam ${base} "test/macs2"
        
 singularity  exec --home /home/jeszyman/repos/atac-seq --bind /home/jeszyman:/home/jeszyman --bind /mnt:/mnt --bind /opt/miniconda3/envs/snakemake/lib/python3.9/site-packages:/mnt/snakemake /home/jeszyman/sing_containers/atac.sif bash -c 'base=$(echo $(basename test/bam/atac4_regfilt_tn5.bam) | sed '\''s/_tn5.*$//g'\'')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac4_regfilt_tn5.bam ${base} "test/macs2"'
Activating singularity image /home/jeszyman/sing_containers/atac.sif
[Tue May 17 13:33:27 2022]
Finished job 48.
8 of 19 steps (42%) done
Resources before job selection: {'_cores': 1, '_nodes': 9223372036854775804}
Ready jobs (7):
	call_macs2_broad
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
	call_macs2_narrow
	make_peak_counts
Select jobs to execute...
Selected jobs (1):
	make_peak_counts
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775803}

[Tue May 17 13:33:27 2022]
rule make_peak_counts:
    input: test/bam/atac1_regfilt_tn5.bam, test/bam/atac2_regfilt_tn5.bam, test/bam/atac3_regfilt_tn5.bam, test/bam/atac4_regfilt_tn5.bam
    output: test/csaw/background_counts_all_regfilt_rse.rds, test/csaw/counts_all_regfilt_rse.rds
    log: test/logs/make_peak_counts_regfilt.log
    jobid: 53
    wildcards: bam_process=regfilt
    resources: tmpdir=/tmp


        Rscript workflow/scripts/select_window_size.R         "test/bam/atac1_regfilt_tn5.bam test/bam/atac2_regfilt_tn5.bam test/bam/atac3_regfilt_tn5.bam test/bam/atac4_regfilt_tn5.bam"         4         test/csaw/background_counts_all_regfilt_rse.rds         test/csaw/counts_all_regfilt_rse.rds         >& test/logs/make_peak_counts_regfilt.log
        
 singularity  exec --home /home/jeszyman/repos/atac-seq --bind /home/jeszyman:/home/jeszyman --bind /mnt:/mnt --bind /opt/miniconda3/envs/snakemake/lib/python3.9/site-packages:/mnt/snakemake /home/jeszyman/sing_containers/atac.sif bash -c 'Rscript workflow/scripts/select_window_size.R         "test/bam/atac1_regfilt_tn5.bam test/bam/atac2_regfilt_tn5.bam test/bam/atac3_regfilt_tn5.bam test/bam/atac4_regfilt_tn5.bam"         4         test/csaw/background_counts_all_regfilt_rse.rds         test/csaw/counts_all_regfilt_rse.rds         >& test/logs/make_peak_counts_regfilt.log'
Activating singularity image /home/jeszyman/sing_containers/atac.sif
[Tue May 17 13:33:28 2022]
Finished job 37.
9 of 19 steps (47%) done
Resources before job selection: {'_cores': 1, '_nodes': 9223372036854775804}
Ready jobs (6):
	call_macs2_broad
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
	call_macs2_narrow
Select jobs to execute...
Selected jobs (1):
	call_macs2_narrow
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775803}

[Tue May 17 13:33:28 2022]
rule call_macs2_narrow:
    input: test/bam/atac1_open_tn5.bam
    output: test/macs2/atac1_open_peaks.narrowPeak, test/macs2/atac1_open_summits.bed
    jobid: 45
    wildcards: library_id=atac1, bam_process=open
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac1_open_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac1_open_tn5.bam ${base} "test/macs2"
        
 singularity  exec --home /home/jeszyman/repos/atac-seq --bind /home/jeszyman:/home/jeszyman --bind /mnt:/mnt --bind /opt/miniconda3/envs/snakemake/lib/python3.9/site-packages:/mnt/snakemake /home/jeszyman/sing_containers/atac.sif bash -c 'base=$(echo $(basename test/bam/atac1_open_tn5.bam) | sed '\''s/_tn5.*$//g'\'')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac1_open_tn5.bam ${base} "test/macs2"'
Activating singularity image /home/jeszyman/sing_containers/atac.sif
[Tue May 17 13:33:28 2022]
Finished job 52.
10 of 19 steps (53%) done
Resources before job selection: {'_cores': 1, '_nodes': 9223372036854775804}
Ready jobs (5):
	call_macs2_broad
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
	call_macs2_narrow
Select jobs to execute...
Selected jobs (1):
	call_macs2_narrow
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775803}

[Tue May 17 13:33:28 2022]
rule call_macs2_narrow:
    input: test/bam/atac2_open_tn5.bam
    output: test/macs2/atac2_open_peaks.narrowPeak, test/macs2/atac2_open_summits.bed
    jobid: 47
    wildcards: library_id=atac2, bam_process=open
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac2_open_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac2_open_tn5.bam ${base} "test/macs2"
        
 singularity  exec --home /home/jeszyman/repos/atac-seq --bind /home/jeszyman:/home/jeszyman --bind /mnt:/mnt --bind /opt/miniconda3/envs/snakemake/lib/python3.9/site-packages:/mnt/snakemake /home/jeszyman/sing_containers/atac.sif bash -c 'base=$(echo $(basename test/bam/atac2_open_tn5.bam) | sed '\''s/_tn5.*$//g'\'')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac2_open_tn5.bam ${base} "test/macs2"'
Activating singularity image /home/jeszyman/sing_containers/atac.sif
[Tue May 17 13:33:29 2022]
Finished job 45.
11 of 19 steps (58%) done
Resources before job selection: {'_cores': 1, '_nodes': 9223372036854775804}
Ready jobs (4):
	call_macs2_broad
	call_macs2_broad
	call_macs2_narrow
	call_macs2_broad
Select jobs to execute...
Selected jobs (1):
	call_macs2_broad
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775803}

[Tue May 17 13:33:29 2022]
rule call_macs2_broad:
    input: test/bam/atac4_open_tn5.bam
    output: test/macs2/atac4_open_peaks.broadPeak, test/macs2/atac4_open_peaks.gappedPeak, test/macs2/atac4_open_peaks.xls
    jobid: 43
    wildcards: library_id=atac4, bam_process=open
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac4_open_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_broad.sh test/bam/atac4_open_tn5.bam ${base} "test/macs2"
        
 singularity  exec --home /home/jeszyman/repos/atac-seq --bind /home/jeszyman:/home/jeszyman --bind /mnt:/mnt --bind /opt/miniconda3/envs/snakemake/lib/python3.9/site-packages:/mnt/snakemake /home/jeszyman/sing_containers/atac.sif bash -c 'base=$(echo $(basename test/bam/atac4_open_tn5.bam) | sed '\''s/_tn5.*$//g'\'')
        workflow/scripts/call_macs2_broad.sh test/bam/atac4_open_tn5.bam ${base} "test/macs2"'
Activating singularity image /home/jeszyman/sing_containers/atac.sif
[Tue May 17 13:33:30 2022]
Finished job 47.
12 of 19 steps (63%) done
Resources before job selection: {'_cores': 1, '_nodes': 9223372036854775804}
Ready jobs (3):
	call_macs2_broad
	call_macs2_broad
	call_macs2_narrow
Select jobs to execute...
Selected jobs (1):
	call_macs2_narrow
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775803}

[Tue May 17 13:33:30 2022]
rule call_macs2_narrow:
    input: test/bam/atac4_open_tn5.bam
    output: test/macs2/atac4_open_peaks.narrowPeak, test/macs2/atac4_open_summits.bed
    jobid: 51
    wildcards: library_id=atac4, bam_process=open
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac4_open_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac4_open_tn5.bam ${base} "test/macs2"
        
 singularity  exec --home /home/jeszyman/repos/atac-seq --bind /home/jeszyman:/home/jeszyman --bind /mnt:/mnt --bind /opt/miniconda3/envs/snakemake/lib/python3.9/site-packages:/mnt/snakemake /home/jeszyman/sing_containers/atac.sif bash -c 'base=$(echo $(basename test/bam/atac4_open_tn5.bam) | sed '\''s/_tn5.*$//g'\'')
        workflow/scripts/call_macs2_narrow.sh test/bam/atac4_open_tn5.bam ${base} "test/macs2"'
Activating singularity image /home/jeszyman/sing_containers/atac.sif
[Tue May 17 13:33:30 2022]
Finished job 43.
13 of 19 steps (68%) done
Resources before job selection: {'_cores': 1, '_nodes': 9223372036854775804}
Ready jobs (2):
	call_macs2_broad
	call_macs2_broad
Select jobs to execute...
Selected jobs (1):
	call_macs2_broad
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775803}

[Tue May 17 13:33:30 2022]
rule call_macs2_broad:
    input: test/bam/atac1_regfilt_tn5.bam
    output: test/macs2/atac1_regfilt_peaks.broadPeak, test/macs2/atac1_regfilt_peaks.gappedPeak, test/macs2/atac1_regfilt_peaks.xls
    jobid: 38
    wildcards: library_id=atac1, bam_process=regfilt
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac1_regfilt_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_broad.sh test/bam/atac1_regfilt_tn5.bam ${base} "test/macs2"
        
 singularity  exec --home /home/jeszyman/repos/atac-seq --bind /home/jeszyman:/home/jeszyman --bind /mnt:/mnt --bind /opt/miniconda3/envs/snakemake/lib/python3.9/site-packages:/mnt/snakemake /home/jeszyman/sing_containers/atac.sif bash -c 'base=$(echo $(basename test/bam/atac1_regfilt_tn5.bam) | sed '\''s/_tn5.*$//g'\'')
        workflow/scripts/call_macs2_broad.sh test/bam/atac1_regfilt_tn5.bam ${base} "test/macs2"'
Activating singularity image /home/jeszyman/sing_containers/atac.sif
[Tue May 17 13:33:32 2022]
Finished job 38.
14 of 19 steps (74%) done
Resources before job selection: {'_cores': 1, '_nodes': 9223372036854775804}
Ready jobs (1):
	call_macs2_broad
Select jobs to execute...
Selected jobs (1):
	call_macs2_broad
Resources after job selection: {'_cores': 0, '_nodes': 9223372036854775803}

[Tue May 17 13:33:32 2022]
rule call_macs2_broad:
    input: test/bam/atac2_regfilt_tn5.bam
    output: test/macs2/atac2_regfilt_peaks.broadPeak, test/macs2/atac2_regfilt_peaks.gappedPeak, test/macs2/atac2_regfilt_peaks.xls
    jobid: 40
    wildcards: library_id=atac2, bam_process=regfilt
    resources: tmpdir=/tmp


        base=$(echo $(basename test/bam/atac2_regfilt_tn5.bam) | sed 's/_tn5.*$//g')
        workflow/scripts/call_macs2_broad.sh test/bam/atac2_regfilt_tn5.bam ${base} "test/macs2"
        
 singularity  exec --home /home/jeszyman/repos/atac-seq --bind /home/jeszyman:/home/jeszyman --bind /mnt:/mnt --bind /opt/miniconda3/envs/snakemake/lib/python3.9/site-packages:/mnt/snakemake /home/jeszyman/sing_containers/atac.sif bash -c 'base=$(echo $(basename test/bam/atac2_regfilt_tn5.bam) | sed '\''s/_tn5.*$//g'\'')
        workflow/scripts/call_macs2_broad.sh test/bam/atac2_regfilt_tn5.bam ${base} "test/macs2"'
Activating singularity image /home/jeszyman/sing_containers/atac.sif
[Tue May 17 13:33:32 2022]
Finished job 51.
15 of 19 steps (79%) done
[Tue May 17 13:33:33 2022]
Finished job 40.
16 of 19 steps (84%) done
[Tue May 17 13:33:35 2022]
Finished job 54.
17 of 19 steps (89%) done
[Tue May 17 13:33:37 2022]
Finished job 53.
18 of 19 steps (95%) done
Resources before job selection: {'_cores': 4, '_nodes': 9223372036854775807}
Ready jobs (1):
	all
Select jobs to execute...
Selected jobs (1):
	all
Resources after job selection: {'_cores': 3, '_nodes': 9223372036854775806}

[Tue May 17 13:33:37 2022]
localrule all:
    input: test/fastq/atac1_flex_1.fastq.gz, test/fastq/atac2_flex_1.fastq.gz, test/fastq/atac3_flex_1.fastq.gz, test/fastq/atac4_flex_1.fastq.gz, test/fastq/atac1_flex_2.fastq.gz, test/fastq/atac2_flex_2.fastq.gz, test/fastq/atac3_flex_2.fastq.gz, test/fastq/atac4_flex_2.fastq.gz, test/bam/atac1.bam, test/bam/atac2.bam, test/bam/atac3.bam, test/bam/atac4.bam, test/bam/atac1_dedup.bam, test/bam/atac2_dedup.bam, test/bam/atac3_dedup.bam, test/bam/atac4_dedup.bam, test/bam/atac1_regfilt.bam, test/bam/atac2_regfilt.bam, test/bam/atac3_regfilt.bam, test/bam/atac4_regfilt.bam, test/bam/atac1_regfilt.bam.bai, test/bam/atac2_regfilt.bam.bai, test/bam/atac3_regfilt.bam.bai, test/bam/atac4_regfilt.bam.bai, test/bam/atac1_open.bam, test/bam/atac2_open.bam, test/bam/atac3_open.bam, test/bam/atac4_open.bam, test/bam/atac1_regfilt_tn5.bam, test/bam/atac2_regfilt_tn5.bam, test/bam/atac3_regfilt_tn5.bam, test/bam/atac4_regfilt_tn5.bam, test/bam/atac1_open_tn5.bam, test/bam/atac2_open_tn5.bam, test/bam/atac3_open_tn5.bam, test/bam/atac4_open_tn5.bam, test/qc/atac1_R1_fastqc.html, test/qc/atac1_R2_fastqc.html, test/qc/atac2_R1_fastqc.html, test/qc/atac2_R2_fastqc.html, test/qc/atac3_R1_fastqc.html, test/qc/atac3_R2_fastqc.html, test/qc/atac4_R1_fastqc.html, test/qc/atac4_R2_fastqc.html, test/qc/atac1_stat.txt, test/qc/atac2_stat.txt, test/qc/atac3_stat.txt, test/qc/atac4_stat.txt, test/qc/atac1_flagstat.txt, test/qc/atac2_flagstat.txt, test/qc/atac3_flagstat.txt, test/qc/atac4_flagstat.txt, test/macs2/atac1_open_peaks.broadPeak, test/macs2/atac1_open_peaks.gappedPeak, test/macs2/atac1_open_peaks.xls, test/macs2/atac1_regfilt_peaks.broadPeak, test/macs2/atac1_regfilt_peaks.gappedPeak, test/macs2/atac1_regfilt_peaks.xls, test/macs2/atac2_open_peaks.broadPeak, test/macs2/atac2_open_peaks.gappedPeak, test/macs2/atac2_open_peaks.xls, test/macs2/atac2_regfilt_peaks.broadPeak, test/macs2/atac2_regfilt_peaks.gappedPeak, test/macs2/atac2_regfilt_peaks.xls, test/macs2/atac3_open_peaks.broadPeak, test/macs2/atac3_open_peaks.gappedPeak, test/macs2/atac3_open_peaks.xls, test/macs2/atac3_regfilt_peaks.broadPeak, test/macs2/atac3_regfilt_peaks.gappedPeak, test/macs2/atac3_regfilt_peaks.xls, test/macs2/atac4_open_peaks.broadPeak, test/macs2/atac4_open_peaks.gappedPeak, test/macs2/atac4_open_peaks.xls, test/macs2/atac4_regfilt_peaks.broadPeak, test/macs2/atac4_regfilt_peaks.gappedPeak, test/macs2/atac4_regfilt_peaks.xls, test/macs2/atac1_open_peaks.narrowPeak, test/macs2/atac1_open_summits.bed, test/macs2/atac1_regfilt_peaks.narrowPeak, test/macs2/atac1_regfilt_summits.bed, test/macs2/atac2_open_peaks.narrowPeak, test/macs2/atac2_open_summits.bed, test/macs2/atac2_regfilt_peaks.narrowPeak, test/macs2/atac2_regfilt_summits.bed, test/macs2/atac3_open_peaks.narrowPeak, test/macs2/atac3_open_summits.bed, test/macs2/atac3_regfilt_peaks.narrowPeak, test/macs2/atac3_regfilt_summits.bed, test/macs2/atac4_open_peaks.narrowPeak, test/macs2/atac4_open_summits.bed, test/macs2/atac4_regfilt_peaks.narrowPeak, test/macs2/atac4_regfilt_summits.bed, test/csaw/background_counts_all_regfilt_rse.rds, test/csaw/background_counts_all_open_rse.rds, test/csaw/counts_all_regfilt_rse.rds, test/csaw/counts_all_open_rse.rds
    jobid: 0
    resources: tmpdir=/tmp

[Tue May 17 13:33:37 2022]
Finished job 0.
19 of 19 steps (100%) done
Complete log: /home/jeszyman/repos/atac-seq/.snakemake/log/2022-05-17T133323.087184.snakemake.log
unlocking
removing lock
removing lock
removed all locks
